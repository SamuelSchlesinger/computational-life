# program-viewer Specification

## Purpose
TBD - created by archiving change reconcile-specs-with-codebase. Update Purpose after archive.
## Requirements
### Requirement: Cell Selection and Program Inspection

The system SHALL support selecting a simulation cell by Shift+left-clicking on the 3D surface. When a cell is selected, the system SHALL:

1. Ray-cast from the camera through the cursor position to find the intersected face
2. Request the program data from the simulation thread
3. Display the program bytes and human-readable disassembly in the sidebar panel

The disassembly SHALL be generated by the substrate's `disassemble` method and shown in a monospace font within a scrollable area (max height 200px). While awaiting the response from the simulation thread, a loading spinner SHALL be shown.

#### Scenario: Inspect a cell
- **WHEN** the user Shift+left-clicks on a face in the 3D surface view
- **THEN** the sidebar SHALL display the selected cell index, raw program bytes, and substrate-specific disassembly

#### Scenario: Disassembly format
- **WHEN** a BFF program is inspected
- **THEN** the disassembly SHALL show hex addresses, hex byte values, mnemonics, and human-readable descriptions

